# typed: false
# frozen_string_literal: true

# This file was generated by GoReleaser. DO NOT EDIT.
class Testkube < Formula
  desc "Testkube - your somewhat opinionated and friendly Kubernetes testing framework!"
  homepage "https://testkube.io"
  version "1.5.2"
  license "MIT"

  on_macos do
    if Hardware::CPU.arm?
      url "https://github.com/kubeshop/testkube/releases/download/v1.5.2/testkube_1.5.2_macOS_arm64.tar.gz"
      sha256 "f01798f853582de64748d8a6dd5e8409bdcacf2834780532bfac7d4da535a99d"

      def install
        bin.install "kubectl-testkube"
        ln_s bin/"kubectl-testkube", bin/"tk"
        ln_s bin/"kubectl-testkube", bin/"testkube"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/kubeshop/testkube/releases/download/v1.5.2/testkube_1.5.2_macOS_x86_64.tar.gz"
      sha256 "683cf0236b9fbf22b08fd1e930d728683494eb9390c4c2f646c75ccbe4b577eb"

      def install
        bin.install "kubectl-testkube"
        ln_s bin/"kubectl-testkube", bin/"tk"
        ln_s bin/"kubectl-testkube", bin/"testkube"
      end
    end
  end

  on_linux do
    if Hardware::CPU.arm? && Hardware::CPU.is_64_bit?
      url "https://github.com/kubeshop/testkube/releases/download/v1.5.2/testkube_1.5.2_Linux_arm64.tar.gz"
      sha256 "2d8baf3ee83d0f887b42241703c96005905146f92d7d4dbb37e565128e5e6135"

      def install
        bin.install "kubectl-testkube"
        ln_s bin/"kubectl-testkube", bin/"tk"
        ln_s bin/"kubectl-testkube", bin/"testkube"
      end
    end
    if Hardware::CPU.intel?
      url "https://github.com/kubeshop/testkube/releases/download/v1.5.2/testkube_1.5.2_Linux_x86_64.tar.gz"
      sha256 "6dd760c36a90a3f2ac321c3767c3401df6aaa4c56b5a102995ef712ad697b5a5"

      def install
        bin.install "kubectl-testkube"
        ln_s bin/"kubectl-testkube", bin/"tk"
        ln_s bin/"kubectl-testkube", bin/"testkube"
      end
    end
  end

  depends_on "helm"
  depends_on "kubectl"
end
